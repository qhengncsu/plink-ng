library(roxygen2)
roxygen2::roxygenise()
remove.packages("pgenlibr")
install_github("qhengncsu/plink-ng", subdir="/2.0/pgenlibr")
library(devtools)
install_github("qhengncsu/plink-ng", subdir="/2.0/pgenlibr")
library(pgenlibr)
prepareFeatures
pgen <- pgenlibr::NewPgen("/Users/ruilinli/plink-ng/toy_data.pgen", pvar = NULL, sample_subset =1:n)
install.packages("data.table")
genotype.pfile = "sample"
vars <- dplyr::mutate(dplyr::rename(data.table::fread(cmd=paste0('zstdcat', ' ', paste0(genotype.pfile, '.pvar.zst'))), 'CHROM'='#CHROM'), VAR_ID=paste(ID, ALT, sep='_'))$VAR_ID
install.packages("dplyr")
vars <- dplyr::mutate(dplyr::rename(data.table::fread(cmd=paste0('zstdcat', ' ', paste0(genotype.pfile, '.pvar.zst'))), 'CHROM'='#CHROM'), VAR_ID=paste(ID, ALT, sep='_'))$VAR_ID
setwd("~/Downloads/FastSQR")
vars <- dplyr::mutate(dplyr::rename(data.table::fread(cmd=paste0('zstdcat', ' ', paste0(genotype.pfile, '.pvar.zst'))), 'CHROM'='#CHROM'), VAR_ID=paste(ID, ALT, sep='_'))$VAR_ID
vars
pvar <- pgenlibr::NewPvar(paste0(genotype.pfile, '.pvar.zst'))
library(pgenlibr)
pvar <- pgenlibr::NewPvar(paste0(genotype.pfile, '.pvar.zst'))
pgen <- pgenlibr::NewPgen("/Users/qiang/Dowloads/sample.pgen", pvar = NULL, sample_subset =1:n)
pgen <- pgenlibr::NewPgen("/Users/qiang/Dowloads/sample.pgen", pvar = NULL)
remove.packages("pgenlibr")
install_github("chrchang/plink-ng", subdir="/2.0/pgenlibr")
pgen <- pgenlibr::NewPgen("/Users/qiang/Dowloads/sample.pgen", pvar = NULL)
pgen <- pgenlibr::NewPgen("/Users/qiang/Dowloads/sample.pgen", pvar = NULL)
pgen <- pgenlibr::NewPgen("/Users/qiang/Dowloads/sample.pgen", pvar = NULL)
library(pgenlibr)
pgen <- pgenlibr::NewPgen("/Users/qiang/Dowloads/sample.pgen", pvar = NULL)
setwd("~/Downloads/FastSQR")
pgen <- pgenlibr::NewPgen("/Users/qiang/Dowloads/sample.pgen", pvar = NULL)
pgen <- pgenlibr::NewPgen("/Users/qiang/Downloads/sample.pgen", pvar = NULL)
pgen <- pgenlibr::NewPgen("/Users/qiang/Downloads/sample", pvar = NULL)
vars <- dplyr::mutate(dplyr::rename(data.table::fread(cmd=paste0('zstdcat', ' ', paste0(genotype.pfile, '.pvar.zst'))), 'CHROM'='#CHROM'), VAR_ID=paste(ID, ALT, sep='_'))$VAR_ID
pvar <- pgenlibr::NewPvar(paste0(genotype.pfile, '.pvar.zst'))
pgen <- pgenlibr::NewPgen("/Users/qiang/Downloads/sample", pvar = NULL)
pgen <- pgenlibr::NewPgen("sample.pgen", pvar = NULL)
remove.packages("pgenlibr")
install_github("qhengncsu/plink-ng", subdir="/2.0/pgenlibr")
library(devtools)
install_github("qhengncsu/plink-ng", subdir="/2.0/pgenlibr")
pvar <- pgenlibr::NewPvar(paste0(genotype.pfile, '.pvar.zst'))
library(pgenlibr)
pvar <- pgenlibr::NewPvar(paste0(genotype.pfile, '.pvar.zst'))
prepareFeatures()
pvar <- pgenlibr::NewPvar(paste0(genotype.pfile, '.pvar.zst'))
pgen <- pgenlibr::NewPgen(paste0(genotype.pfile, '.pgen'), pvar = pvar)
prepareFeatures
feature_matrix <- prepareFeatures(pgen, vars, vars)
library(roxygen2)
roxygen2::roxygenise()
remove.packages("pgenlibr")
install_github("qhengncsu/plink-ng", subdir="/2.0/pgenlibr")
library(devtools)
install_github("qhengncsu/plink-ng", subdir="/2.0/pgenlibr")
library(pgenlibr)
genotype.pfile = "sample"
vars <- dplyr::mutate(dplyr::rename(data.table::fread(cmd=paste0('zstdcat', ' ', paste0(genotype.pfile, '.pvar.zst'))), 'CHROM'='#CHROM'), VAR_ID=paste(ID, ALT, sep='_'))$VAR_ID
setwd("~/Downloads/FastSQR")
genotype.pfile = "sample"
vars <- dplyr::mutate(dplyr::rename(data.table::fread(cmd=paste0('zstdcat', ' ', paste0(genotype.pfile, '.pvar.zst'))), 'CHROM'='#CHROM'), VAR_ID=paste(ID, ALT, sep='_'))$VAR_ID
pvar <- pgenlibr::NewPvar(paste0(genotype.pfile, '.pvar.zst'))
pgen <- pgenlibr::NewPgen(paste0(genotype.pfile, '.pgen'), pvar = pvar)
feature_matrix <- prepareFeatures(pgen, vars, vars)
library(pgenlibr)
prepareFeatures
PlinkMatrixFromPgen
